<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœºå™¨äººè´¡çŒ®é›†é”¦ - Jiang (BlueDarkUP)</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ”‘</text></svg>">
    <meta name="description" content="Jiang (BlueDarkUP) åœ¨ FLL, FTC, RoboMaster æœºå™¨äººç«èµ›ä¸­çš„è§†è§‰è´¡çŒ®é›†é”¦ï¼ŒåŒ…å«å›¾ç‰‡å’Œè§†é¢‘ã€‚">
    <meta name="author" content="Jiang (BlueDarkUP)">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body.theme-green {
            --primary-color: #1A2E28; /* æ·±é‚ƒçš„æ£®æ—ç»¿ */
            --primary-color-transparent: rgba(26, 46, 40, 0.85);
            --primary-color-darker: #11201C; /* æ›´æ·±çš„å¢¨ç»¿ */
            --secondary-color: #58C27D; /* å……æ»¡æ´»åŠ›çš„äº®ç»¿ */
            --secondary-color-transparent-1: rgba(88, 194, 125, 0.1);
            --secondary-color-transparent-2: rgba(88, 194, 125, 0.2);
            --secondary-color-transparent-4: rgba(88, 194, 125, 0.4);
            --secondary-color-transparent-5: rgba(88, 194, 125, 0.5);
            --secondary-color-transparent-gradient: rgba(88, 194, 125, 0.07);
            --text-color-light: #E3EBE7; /* æŸ”å’Œç±³ç™½ */
            --text-color-dark: #A8B8B2; /* ç°ç»¿ */
            --cta-hover-text-color: #1A2E28;
        }
    
        /* 2. æ·±æµ·æå®¢ (Deep Sea Geek) - ç¥ç§˜ã€ç§‘æŠ€ã€å†·é™ */
        body.theme-blue {
            --primary-color: #0B192F; /* åˆå¤œè“ */
            --primary-color-transparent: rgba(11, 25, 47, 0.85);
            --primary-color-darker: #071222; /* æ›´æ·±çš„è“é»‘ */
            --secondary-color: #64FFDA; /* èµ›åšé’è‰² */
            --secondary-color-transparent-1: rgba(100, 255, 218, 0.1);
            --secondary-color-transparent-2: rgba(100, 255, 218, 0.2);
            --secondary-color-transparent-4: rgba(100, 255, 218, 0.4);
            --secondary-color-transparent-5: rgba(100, 255, 218, 0.5);
            --secondary-color-transparent-gradient: rgba(100, 255, 218, 0.07);
            --text-color-light: #CCD6F6; /* æ·¡è“è‰²æ–‡æœ¬ */
            --text-color-dark: #8892B0; /* çŸ³æ¿ç°è“ */
            --cta-hover-text-color: #0B192F;
        }
    
        /* 3. è½æ—¥ç†”é‡‘ (Molten Gold Sunset) - æ¸©æš–ã€è¾‰ç…Œã€åˆ›é€ åŠ› */
        body.theme-orange {
            --primary-color: #4A1D21; /* æ·±æ©™çº¢ */
            --primary-color-transparent: rgba(74, 29, 33, 0.85);
            --primary-color-darker: #331417; /* æ›´æ·±çš„æ£•çº¢ */
            --secondary-color: #F7B801; /* äº®é‡‘è‰² */
            --secondary-color-transparent-1: rgba(247, 184, 1, 0.1);
            --secondary-color-transparent-2: rgba(247, 184, 1, 0.2);
            --secondary-color-transparent-4: rgba(247, 184, 1, 0.4);
            --secondary-color-transparent-5: rgba(247, 184, 1, 0.5);
            --secondary-color-transparent-gradient: rgba(247, 184, 1, 0.07);
            --text-color-light: #FDE8D6; /* æš®è‰²æš–ç™½ */
            --text-color-dark: #E6A573; /* æŸ”å’Œæ©˜è‰² */
            --cta-hover-text-color: #4A1D21;
        }
        
        /* 4. æ³¢å°”å¤šçº¢ (Bordeaux Red) - ä¼˜é›…ã€æˆç†Ÿã€ç²¾è‡´ */
        body.theme-bordeaux {
            --primary-color: #2E0B19; /* é†‡åšé…’çº¢ */
            --primary-color-transparent: rgba(46, 11, 25, 0.85);
            --primary-color-darker: #1E0710;
            --secondary-color: #D8A0A7; /* ç«ç‘°é‡‘ç²‰ */
            --secondary-color-transparent-1: rgba(216, 160, 167, 0.1);
            --secondary-color-transparent-2: rgba(216, 160, 167, 0.2);
            --secondary-color-transparent-4: rgba(216, 160, 167, 0.4);
            --secondary-color-transparent-5: rgba(216, 160, 167, 0.5);
            --secondary-color-transparent-gradient: rgba(216, 160, 167, 0.07);
            --text-color-light: #F5E8ED; /* æ·¡ç²‰ç™½ */
            --text-color-dark: #B08C94; /* ç°ç²‰ */
            --cta-hover-text-color: #2E0B19;
        }
    
        /* 5. æå…‰ä¹‹æ¢¦ (Aurora Dream) - æ¢¦å¹»ã€æœªæ¥ã€ç§‘æŠ€ */
        body.theme-aurora {
            --primary-color: #0C0F1A; /* æå¤œè“é»‘ */
            --primary-color-transparent: rgba(12, 15, 26, 0.85);
            --primary-color-darker: #06080D;
            --secondary-color: #33BBC5; /* æå…‰é’ */
            --secondary-color-transparent-1: rgba(51, 187, 197, 0.1);
            --secondary-color-transparent-2: rgba(51, 187, 197, 0.2);
            --secondary-color-transparent-4: rgba(51, 187, 197, 0.4);
            --secondary-color-transparent-5: rgba(51, 187, 197, 0.5);
            --secondary-color-transparent-gradient: rgba(51, 187, 197, 0.07);
            --text-color-light: #D4C9E8; /* æå…‰ç´«ç™½ */
            --text-color-dark: #8F82A8; /* ç°ç´« */
            --cta-hover-text-color: #0C0F1A;
        }
        
        /* 6. æ²™æ¼ ç»¿æ´² (Desert Oasis) - å®é™ã€å¸Œæœ›ã€ç”Ÿå‘½åŠ› */
        body.theme-oasis {
            --primary-color: #FDF6E3; /* æ¸©æš–æ²™è‰² */
            --primary-color-transparent: rgba(253, 246, 227, 0.85);
            --primary-color-darker: #F5EFE0;
            --secondary-color: #2AA198; /* ç»¿æ´²æ¾çŸ³ç»¿ */
            --secondary-color-transparent-1: rgba(42, 161, 152, 0.1);
            --secondary-color-transparent-2: rgba(42, 161, 152, 0.2);
            --secondary-color-transparent-4: rgba(42, 161, 152, 0.4);
            --secondary-color-transparent-5: rgba(42, 161, 152, 0.5);
            --secondary-color-transparent-gradient: rgba(42, 161, 152, 0.07);
            --text-color-light: #586E75; /* æ·±ç°è“ (è¿‘æ™¯æ–‡å­—) */
            --text-color-dark: #839496; /* æµ…ç°è“ (è¿œæ™¯æ–‡å­—) */
            --cta-hover-text-color: #FDF6E3;
        }
        
        /* 7. å¤æ—¥æ±½æ°´ (Summer Soda) - æ¸…çˆ½ã€æ´»åŠ›ã€æ„‰æ‚¦ */
        body.theme-soda {
            --primary-color: #F8F9FA; /* æ¸…çˆ½ç±³ç™½ */
            --primary-color-transparent: rgba(248, 249, 250, 0.85);
            --primary-color-darker: #E9ECEF;
            --secondary-color: #1ABC9C; /* è–„è·ç»¿ */
            --secondary-color-transparent-1: rgba(26, 188, 156, 0.1);
            --secondary-color-transparent-2: rgba(26, 188, 156, 0.2);
            --secondary-color-transparent-4: rgba(26, 188, 156, 0.4);
            --secondary-color-transparent-5: rgba(26, 188, 156, 0.5);
            --secondary-color-transparent-gradient: rgba(26, 188, 156, 0.07);
            --text-color-light: #2C3E50; /* æ·±è“ç° */
            --text-color-dark: #7F8C8D; /* ç°äº‘è‰² */
            --cta-hover-text-color: #F8F9FA;
        }
        
        /* 8. å¤šå·´èƒºæ´¾å¯¹ (Dopamine Party) - å¤§èƒ†ã€æ´»åŠ›ã€æ¿€æƒ… */
        body.theme-dopamine {
            --primary-color: #4A00E0; /* äº®ç´«è‰² */
            --primary-color-transparent: rgba(74, 0, 224, 0.85);
            --primary-color-darker: #3c00b3;
            --secondary-color: #FF0080; /* è§å…‰ç²‰ */
            --secondary-color-transparent-1: rgba(255, 0, 128, 0.1);
            --secondary-color-transparent-2: rgba(255, 0, 128, 0.2);
            --secondary-color-transparent-4: rgba(255, 0, 128, 0.4);
            --secondary-color-transparent-5: rgba(255, 0, 128, 0.5);
            --secondary-color-transparent-gradient: rgba(255, 0, 128, 0.07);
            --text-color-light: #F2F2F2; /* é«˜å¯¹æ¯”åº¦äº®ç° */
            --text-color-dark: #E0B0FF; /* æ·¡ç´«è‰² */
            --cta-hover-text-color: #FFFFFF;
        }
        
        /* 9. èµ›åšé»‘çŸ³ (Cyber Obsidian) - æœªæ¥ã€å†·å³»ã€ä¸“ä¸š */
        body.theme-gray {
            --primary-color: #0A0A0A; /* çº¯é»‘ */
            --primary-color-transparent: rgba(10, 10, 10, 0.85);
            --primary-color-darker: #000000;
            --secondary-color: #00BFFF; /* éœ“è™¹æ·±è“ */
            --secondary-color-transparent-1: rgba(0, 191, 255, 0.1);
            --secondary-color-transparent-2: rgba(0, 191, 255, 0.2);
            --secondary-color-transparent-4: rgba(0, 191, 255, 0.4);
            --secondary-color-transparent-5: rgba(0, 191, 255, 0.5);
            --secondary-color-transparent-gradient: rgba(0, 191, 255, 0.07);
            --text-color-light: #EAEAEA; /* é“¶ç°è‰² */
            --text-color-dark: #A1A1A1; /* ä¸­ç°è‰² */
            --cta-hover-text-color: #0A0A0A;
        }

        :root {
            --font-sans: 'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', system-ui, sans-serif;
            --font-header: 'Exo 2', sans-serif;
            --background-light: var(--secondary-color-transparent-1);
        }
        html, body {
            overflow: hidden;
        }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-sans);
            background: linear-gradient(180deg, var(--primary-color) 0%, var(--primary-color-darker) 100%);
            background-attachment: fixed;
            color: var(--text-color-light);
            margin: 0; padding: 0; line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
            min-height: 100vh;
            display: flex; flex-direction: column;
        }
        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--primary-color); z-index: 9999; display: flex; justify-content: center; align-items: center; transition: opacity 0.8s ease-in-out, visibility 0.8s ease-in-out; visibility: visible; opacity: 1; }
        #preloader.loaded { opacity: 0; visibility: hidden; pointer-events: none; }
        .rocket-container { text-align: center; animation: takeOff 2.6s ease-in-out forwards; }
        .rocket-container svg { width: 150px; height: 150px; margin-bottom: 20px; }
        .loading-text { color: var(--text-color-dark); font-size: 1.2em; letter-spacing: 2px; opacity: 0; animation: fadeInText 1s ease-in 0.5s forwards; }
        @keyframes takeOff { 0% { transform: translateY(60px); opacity: 0; } 25% { transform: translateY(0); opacity: 1; } 80% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-120px); opacity: 0; } }
        @keyframes fadeInText { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        body::before { content: ''; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); opacity: 0.03; pointer-events: none; z-index: -1; }
        #cursor-glow { pointer-events: none; position: fixed; top: 0; left: 0; width: 600px; height: 600px; border-radius: 50%; background: radial-gradient(circle, var(--secondary-color-transparent-gradient), transparent 60%); transform: translate(-50%, -50%); transition: top 0.1s ease-out, left 0.1s ease-out; z-index: -1; }
        .container { max-width: 90%; margin: 0 auto; padding: 0 20px; position: relative; z-index: 1; flex-grow: 1; width: 100%; }
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 40px; position: fixed; width: calc(100% - 80px); top: 0; background-color: var(--primary-color-transparent); backdrop-filter: blur(10px); z-index: 1000; transition: padding 0.3s ease, box-shadow 0.3s ease; }
        .logo { font-family: var(--font-header); font-weight: 700; font-size: 1.8em; color: var(--text-color-light); text-decoration: none; }
        .nav-links { list-style: none; display: flex; gap: 25px; margin: 0; padding: 0; }
        .nav-links a { color: var(--text-color-light); text-decoration: none; transition: color 0.3s ease; font-size: 0.95em; position: relative; padding: 5px 0; }
        .nav-links a::after { content: ''; position: absolute; width: 100%; height: 2px; background-color: var(--secondary-color); bottom: 0; left: 0; transform: scaleX(0); transition: transform 0.3s ease; }
        .nav-links a:hover { color: var(--secondary-color); }
        .nav-links a:hover::after { transform: scaleX(1); }
        .hamburger { display: none; cursor: pointer; }
        .hamburger .bar { display: block; width: 25px; height: 3px; margin: 5px auto; transition: all 0.3s ease-in-out; background-color: var(--text-color-light); }
        .back-to-top { display: none !important; }

        main.container {
            padding-top: 100px;
            display: flex;
            flex-direction: column;
            height: calc(100vh - 100px);
        }

        #main-robotics-gallery-section {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            padding: 20px 0;
            min-height: 0;
            opacity: 0;
            transition: opacity 0.8s ease-in-out 0.2s;
        }

        #main-robotics-gallery-section.is-visible {
            opacity: 1;
        }
        
        .section-title {
            font-family: var(--font-header);
            font-weight: 700;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-align: center;
        }

        .category-nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .category-btn {
            background-color: var(--background-light);
            color: var(--text-color-light);
            padding: 10px 22px;
            border: 1px solid var(--secondary-color-transparent-5);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05em;
            transition: all 0.3s ease;
        }
        .category-btn:hover {
            background-color: var(--secondary-color);
            color: var(--cta-hover-text-color);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        .category-btn.active {
            background-color: var(--secondary-color);
            color: var(--cta-hover-text-color);
            border-color: var(--secondary-color);
            box-shadow: 0 0 15px var(--secondary-color-transparent-4);
            font-weight: bold;
        }

        .ftc-submenu {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, opacity 0.4s ease-out, margin-top 0.4s ease-out;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 0;
        }
        .ftc-submenu.show {
            max-height: 200px;
            opacity: 1;
            margin-top: 15px;
        }
        .ftc-submenu .category-btn { font-size: 0.9em; padding: 8px 15px; }

        .gallery-layout {
            display: flex;
            gap: 40px;
            flex-grow: 1;
            align-items: center;
            width: 100%;
        }
        
        .gallery-info-panel {
            flex: 1 1 35%;
            max-width: 450px;
            padding: 30px;
            background-color: var(--secondary-color-transparent-4);
            -webkit-backdrop-filter: blur(18px);
            backdrop-filter: blur(18px);
            border-radius: 15px;
            border: 1px solid var(--secondary-color-transparent-5);
            box-shadow: 0 8px 32px rgba(0,0,0,0.37);
            display: flex;
            flex-direction: column;
            align-self: stretch;
            justify-content: center;
        }

        #gallery-title, #gallery-subtitle, #current-slide-info {
            transition: opacity 0.3s ease-out;
            text-shadow: 0px 2px 6px rgba(0, 0, 0, 0.5);
        }
        #gallery-title.fading-out,
        #gallery-subtitle.fading-out {
            opacity: 0;
        }
        #gallery-title { 
            font-family: var(--font-header);
            font-weight: 700;
            font-size: 2.5em; 
            color: var(--text-color-light); 
            margin-bottom: 15px; 
        }
        #gallery-subtitle { font-size: 1.1em; color: var(--text-color-dark); margin-bottom: 30px; line-height: 1.7; }
        
        #current-slide-info {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--secondary-color-transparent-4);
        }
        #slide-description { font-size: 1.1em; }
        #slide-progress { font-size: 0.9em; color: var(--text-color-dark); margin-top: 10px; }

        .gallery-display-panel {
            flex: 1 1 65%;
            position: relative;
            height: 80vh;
            max-height: 800px;
            align-self: stretch;
        }

        .gallery-content {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease-in-out, visibility 0.6s ease-in-out;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .gallery-content.active {
            opacity: 1;
            visibility: visible;
        }

        /* MODIFIED: Wrapper for scrolling effect */
        .gallery-slider-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            /* Add overflow hidden to clip the sliding items */
            overflow: hidden; 
        }

        /* MODIFIED: Style for 2D scrolling slides */
        .gallery-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            /* Animate the transform property for sliding */
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            background-color: var(--primary-color);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            /* flex-shrink: 0 is important for flexbox layout */
            flex-shrink: 0; 
        }

        .gallery-slide img, .gallery-slide .video-embed {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 10px;
        }
        .gallery-slide .video-embed, .gallery-slide .video-embed iframe {
            width: 90%;
            height: 90%;
            border-radius: 10px;
            border: none;
        }

        .gallery-controls {
            position: absolute;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            top: 50%;
            transform: translateY(-50%);
            padding: 0 10px;
            z-index: 10;
        }

        .control-button {
            background-color: var(--secondary-color-transparent-4);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            color: var(--text-color-light);
            border: 1px solid var(--secondary-color-transparent-5);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border-radius: 50%;
            width: 50px; height: 50px;
            font-size: 2.2em;
            cursor: pointer;
            display: flex; justify-content: center; align-items: center;
            transition: all 0.3s ease;
        }
        .control-button:hover { background-color: var(--secondary-color); color: var(--cta-hover-text-color); transform: scale(1.1); }
        .control-button svg { width: 30px; height: 30px; fill: currentColor; }


        @media (max-width: 1024px) {
            .gallery-layout { flex-direction: column; }
            .gallery-info-panel { max-width: 100%; align-self: auto; max-height: 300px; }
            .gallery-display-panel { width: 100%; height: 60vh; }
        }

        @media (max-width: 768px) {
            .container { max-width: 100%; padding: 0 15px; }
            .navbar { padding: 15px 20px; width: calc(100% - 40px); }
            .nav-links { position: fixed; left: -100%; top: 0; flex-direction: column; background-color: var(--primary-color); width: 100%; height: 100vh; text-align: center; transition: 0.3s; justify-content: center; gap: 50px; }
            .nav-links.active { left: 0; }
            .hamburger { display: block; }
            .hamburger.active .bar:nth-child(2) { opacity: 0; }
            .hamburger.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
            .hamburger.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }
            #cursor-glow { display: none; }
            .gallery-display-panel { height: 50vh; }
            .control-button { width: 40px; height: 40px; }
        }
    </style>
    
    <script>
        (function() {
            const savedTheme = localStorage.getItem('selectedTheme') || 'theme-green';
            document.documentElement.className = savedTheme;
        })();
    </script>
</head>
<body> 
    <script>document.body.className = document.documentElement.className;</script>

    <div id="preloader">
        <div class="rocket-container">            
            <svg xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 0 1024 1024" class="icon" version="1.1">
                <path d="M512 301.2m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="var(--secondary-color)"/>
                <path d="M400.3 744.5c2.1-0.7 4.1-1.4 6.2-2-2 0.6-4.1 1.3-6.2 2z m0 0c2.1-0.7 4.1-1.4 6.2-2-2 0.6-4.1 1.3-6.2 2z" fill="var(--text-color-light)"/>
                <path d="M511.8 256.6c24.4 0 44.2 19.8 44.2 44.2S536.2 345 511.8 345s-44.2-19.8-44.2-44.2 19.9-44.2 44.2-44.2m0-20c-35.5 0-64.2 28.7-64.2 64.2s28.7 64.2 64.2 64.2 64.2-28.7 64.2-64.2-28.7-64.2-64.2-64.2z" fill="var(--secondary-color)"/>
                <path d="M730.7 529.5c0.4-8.7 0.6-17.4 0.6-26.2 0-179.6-86.1-339.1-219.3-439.5-133.1 100.4-219.2 259.9-219.2 439.5 0 8.8 0.2 17.5 0.6 26.1-56 56-90.6 133.3-90.6 218.7 0 61.7 18 119.1 49.1 167.3 30.3-49.8 74.7-90.1 127.7-115.3 39-18.6 82.7-29 128.8-29 48.3 0 93.9 11.4 134.3 31.7 52.5 26.3 96.3 67.7 125.6 118.4 33.4-49.4 52.9-108.9 52.9-173.1 0-85.4-34.6-162.6-90.5-218.6zM351.1 383.4c9.2-37.9 22.9-74.7 40.6-109.5a502.1 502.1 0 0 1 63.6-95.9c17.4-20.6 36.4-39.9 56.8-57.5 20.4 17.6 39.4 36.9 56.8 57.5 24.8 29.5 46.2 61.8 63.6 95.9 17.7 34.8 31.4 71.6 40.6 109.5 8.7 35.8 13.5 72.7 14.2 109.9C637.4 459 577 438.9 512 438.9c-65 0-125.3 20.1-175.1 54.4 0.7-37.2 5.5-74.1 14.2-109.9z m-90.6 449.2c-9.1-27-13.7-55.5-13.7-84.4 0-35.8 7-70.6 20.8-103.2 8.4-19.8 19-38.4 31.9-55.5 9.7 61.5 29.5 119.7 57.8 172.6-36.4 17.8-69 41.6-96.8 70.5z m364.2-85.3c-0.7-0.3-1.5-0.5-2.2-0.8-0.4-0.2-0.9-0.3-1.3-0.5-0.6-0.2-1.3-0.5-1.9-0.7-0.8-0.3-1.5-0.5-2.3-0.8-0.8-0.3-1.5-0.5-2.3-0.7l-0.9-0.3c-1-0.3-2.1-0.7-3.1-1-1.2-0.4-2.4-0.7-3.5-1.1l-3-0.9c-0.2-0.1-0.4-0.1-0.7-0.2-1.1-0.3-2.3-0.7-3.4-1-1.2-0.3-2.4-0.6-3.5-0.9l-3.6-0.9-3.6-0.9c-1-0.3-2.1-0.5-3.1-0.7-1.2-0.3-2.4-0.5-3.6-0.8-1.3-0.3-2.5-0.6-3.8-0.8h-0.3c-0.9-0.2-1.9-0.4-2.8-0.6-0.4-0.1-0.7-0.1-1.1-0.2-1.1-0.2-2.2-0.4-3.4-0.6-1.2-0.2-2.4-0.4-3.6-0.7l-5.4-0.9c-0.9-0.1-1.9-0.3-2.8-0.4-0.8-0.1-1.6-0.3-2.5-0.4-2.6-0.4-5.1-0.7-7.7-1-1.2-0.1-2.3-0.3-3.5-0.4h-0.4c-0.9-0.1-1.8-0.2-2.8-0.3-1.1-0.1-2.1-0.2-3.2-0.3-1.7-0.2-3.4-0.3-5.1-0.4-0.8-0.1-1.5-0.1-2.3-0.2-0.9-0.1-1.9-0.1-2.8-0.2-0.4 0-0.8 0-1.2-0.1-1.1-0.1-2.1-0.1-3.2-0.2-0.5 0-1-0.1-1.5-0.1-1.3-0.1-2.6-0.1-3.9-0.1-0.8 0-1.5-0.1-2.3-0.1-1.2 0-2.4 0-3.5-0.1h-13.9c-2.3 0-4.6 0.1-6.9 0.2-0.9 0-1.9 0.1-2.8 0.1-0.8 0-1.5 0.1-2.3 0.1-1.4 0.1-2.8 0.2-4.1 0.3-1.4 0.1-2.7 0.2-4.1 0.3-1.4 0.1-2.7 0.2-4.1 0.4-0.6 0-1.2 0.1-1.8 0.2l-7.8 0.9c-1.1 0.1-2.1 0.3-3.2 0.4-1 0.1-2.1 0.3-3.1 0.4-3.2 0.5-6.4 0.9-9.5 1.5-0.7 0.1-1.4 0.2-2.1 0.4-0.9 0.1-1.7 0.3-2.6 0.5-1.1 0.2-2.3 0.4-3.4 0.6-0.9 0.2-1.7 0.3-2.6 0.5-0.4 0.1-0.8 0.1-1.1 0.2-0.7 0.1-1.4 0.3-2.1 0.4-1.2 0.3-2.4 0.5-3.6 0.8-1.2 0.3-2.4 0.5-3.6 0.8-0.2 0-0.4 0.1-0.6 0.1-0.5 0.1-1 0.2-1.5 0.4-1.1 0.3-2.3 0.6-3.5 0.9-1.3 0.3-2.5 0.6-3.8 1-0.4 0.1-0.9 0.2-1.4 0.4-1.3 0.4-2.7 0.7-4 1.1-1.5 0.4-3 0.9-4.6 1.3-1 0.3-2.1 0.6-3.1 1-2.1 0.6-4.1 1.3-6.2 2-0.7 0.2-1.4 0.5-2.1 0.7-15-27.5-27.4-56.4-37-86.2-11.7-36.1-19.2-73.6-22.5-111.6-0.6-6.7-1-13.3-1.3-20-0.1-1.2-0.1-2.4-0.1-3.6-0.1-1.2-0.1-2.4-0.1-3.6 0-1.2-0.1-2.4-0.1-3.7 18.8-14 39.2-25.8 61-35 36.1-15.3 74.5-23 114.1-23 39.6 0 78 7.8 114.1 23 21.8 9.2 42.2 20.9 61 35v0.1c0 1 0 1.9-0.1 2.9 0 1.4-0.1 2.8-0.1 4.3 0 0.7 0 1.3-0.1 2-0.1 1.8-0.1 3.5-0.2 5.3-0.3 6.7-0.8 13.3-1.3 20-3.3 38.5-11 76.5-23 113-9.7 30.3-22.3 59.4-37.6 87.1z m136.8 90.9a342.27 342.27 0 0 0-96.3-73.2c29.1-53.7 49.5-112.8 59.4-175.5 12.8 17.1 23.4 35.6 31.8 55.5 13.8 32.7 20.8 67.4 20.8 103.2 0 31-5.3 61.3-15.7 90z" fill="var(--text-color-light)"/>
                <path d="M512 819.3c8.7 0 24.7 22.9 24.7 60.4s-16 60.4-24.7 60.4-24.7-22.9-24.7-60.4 16-60.4 24.7-60.4m0-20c-24.7 0-44.7 36-44.7 80.4 0 44.4 20 80.4 44.7 80.4s44.7-36 44.7-80.4c0-44.4-20-80.4-44.7-80.4z" fill="var(--secondary-color)"/>
            </svg><p class="loading-text">Loading Robotics Gallery...</p>
        </div>
    </div>

    <div id="cursor-glow"></div>

    <nav class="navbar">
        <a href="index.html" class="logo" aria-label="Back to homepage">BlueDarkUP - JiangJinCH</a>
        <ul class="nav-links">
            <li><a href="index.html#about" aria-label="Navigate to About Me section">å…³äºæˆ‘</a></li>
            <li><a href="index.html#philosophy" aria-label="Navigate to My Philosophy section">æˆ‘çš„ç†å¿µ</a></li>
            <li><a href="index.html#articles" aria-label="Navigate to Selected Articles section">ç²¾é€‰æ–‡ç« </a></li>
            <li><a href="index.html#community" aria-label="Navigate to Community Contributions section">ç¤¾åŒºè´¡çŒ®</a></li>
            <li><a href="index.html#projects" aria-label="Navigate to Open Source Projects section">å¼€æºé¡¹ç›®</a></li>
            <li><a href="index.html#robotics-contributions" class="active" aria-label="Navigate to Robotics Showcase section">æœºå™¨äººé›†é”¦</a></li>
            <li><a href="index.html#tech-stack" aria-label="Navigate to Tech Stack section">æŠ€æœ¯æ ˆ</a></li>
            <li><a href="index.html#contact" aria-label="Navigate to Contact Information section">è”ç³»æ–¹å¼</a></li>
        </ul>
        <div class="hamburger" aria-label="Toggle navigation menu" role="button" tabindex="0">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>
    
    <main class="container">
        <section id="main-robotics-gallery-section">
            <h2 class="section-title">æˆ‘çš„æœºå™¨äººè´¡çŒ®é›†é”¦</h2>
            <div class="category-nav">
                <button class="category-btn" data-category="fll" aria-label="View FLL gallery">FLL</button>
                <div>
                    <button class="category-btn" data-category="ftc-parent" aria-label="View FTC galleries">FTC</button>
                    <div id="ftc-submenu" class="ftc-submenu">
                        <button class="category-btn" data-category="ftc27570" aria-label="View FTC Team 27570 gallery">27570 å›¢é˜Ÿ</button>
                        <button class="category-btn" data-category="ftcCommunity" aria-label="View other FTC community contributions gallery">å…¶ä»–ç¤¾åŒºè´¡çŒ®</button>
                    </div>
                </div>
                <button class="category-btn" data-category="robomaster" aria-label="View RoboMaster gallery">ROBOMASTER</button>
            </div>

            <div class="gallery-layout">
                <div class="gallery-info-panel">
                    <h3 id="gallery-title"></h3>
                    <p id="gallery-subtitle"></p>
                    <div id="current-slide-info">
                        <p id="slide-description"></p>
                        <p id="slide-progress"></p>
                    </div>
                </div>

                <div class="gallery-display-panel">
                    <div id="fll-gallery" class="gallery-content">
                        <div class="gallery-slider-wrapper"></div>
                        <div class="gallery-controls">
                            <button class="control-button prev-slide" data-target="fll" aria-label="Previous slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></button>
                            <button class="control-button next-slide" data-target="fll" aria-label="Next slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg></button>
                        </div>
                    </div>
                    <div id="ftc27570-gallery" class="gallery-content">
                        <div class="gallery-slider-wrapper"></div>
                        <div class="gallery-controls">
                            <button class="control-button prev-slide" data-target="ftc27570" aria-label="Previous slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></button>
                            <button class="control-button next-slide" data-target="ftc27570" aria-label="Next slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg></button>
                        </div>
                    </div>
                    <div id="ftcCommunity-gallery" class="gallery-content">
                        <div class="gallery-slider-wrapper"></div>
                        <div class="gallery-controls">
                             <button class="control-button prev-slide" data-target="ftcCommunity" aria-label="Previous slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></button>
                            <button class="control-button next-slide" data-target="ftcCommunity" aria-label="Next slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg></button>
                        </div>
                    </div>
                    <div id="robomaster-gallery" class="gallery-content">
                        <div class="gallery-slider-wrapper"></div>
                        <div class="gallery-controls">
                            <button class="control-button prev-slide" data-target="robomaster" aria-label="Previous slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></button>
                            <button class="control-button next-slide" data-target="robomaster" aria-label="Next slide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg></button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const themeSelect = document.getElementById('theme-select');
            if (themeSelect) {
                const currentTheme = localStorage.getItem('selectedTheme') || 'theme-green';
                themeSelect.value = currentTheme;
                themeSelect.addEventListener('change', function(e) {
                    localStorage.setItem('selectedTheme', e.target.value);
                    document.body.style.transition = 'opacity 0.3s ease';
                    document.body.style.opacity = '0';
                    setTimeout(() => location.reload(), 300);
                });
            }

            const hamburger = document.querySelector('.hamburger');
            const navLinks = document.querySelector('.nav-links');
            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                navLinks.classList.toggle('active');
            });

            const glow = document.getElementById('cursor-glow');
            if (glow) window.addEventListener('mousemove', (e) => { glow.style.left = e.clientX + 'px'; glow.style.top = e.clientY + 'px'; });

            const galleryInfoData = {
                fll: { title: 'FLL (FIRST LEGO League) AquaHunter', subtitle: 'FLL ç«èµ›ä¸­è‡ªä¸»æ°´ä¸‹æœºå™¨äºº AquaHunter çš„å¼€å‘ä¸å®è·µã€‚' },
                ftc27570: { title: 'FTC Team 27570', subtitle: 'ä½œä¸ºæ ¸å¿ƒæˆå‘˜ï¼Œæˆ‘åœ¨ FTC 27570 å›¢é˜Ÿçš„æœºå™¨äººè®¾è®¡ã€è½¯ä»¶å¼€å‘ä¸ç«èµ›å®å†µã€‚' },
                ftcCommunity: { title: 'FTC å…¶ä»–ç¤¾åŒºè´¡çŒ®', subtitle: 'æˆ‘ä¸º FTC ç¤¾åŒºå…¶ä»–é˜Ÿä¼æä¾›çš„æŠ€æœ¯æ”¯æŒå’Œè§†è§‰ç³»ç»Ÿå¼€å‘ã€‚' },
                robomaster: { title: 'ROBOMASTER é’å¹´èµ›', subtitle: 'åœ¨ RoboMaster é’å¹´èµ›ä¸­ï¼Œè‡ªä¸»å®ˆå«æœºå™¨äºº RM-Hunter çš„ç ”å‘å†ç¨‹ã€‚' }
            };

            const galleryData = {
                fll: [
                    { type: 'image', src: 'images/fll/FLL-A.jpg', description: 'FLL 2025-2026 èµ›å­£ä¹é«˜Â®æ•™è‚²FLLç§‘åˆ›æ´»åŠ¨å’Œå›½é™…èµ›äº‹å¤§ä¸­ååŒºå‘å¸ƒä»ªå¼æš¨ FLLå¤§ä¸­ååŒºåˆä½œä¼™ä¼´ç­”è°¢æ™šå®´ å¤§åˆå½±' },
                    { type: 'video', youtubeId: 'q-FieT4VC1g', description: 'AquaHunter åˆšåˆšå°†å…¨éƒ¨è‡ªåŠ¨ç¨‹åºç¼–å†™å®Œæˆåå½•åˆ¶çš„è§†é¢‘' },
                    { type: 'image', src: 'images/fll/FLL-W.jpg', description: 'FLL äºšé”¦èµ›è·å¾—äºšå†› é¢å¥–ç°åœº' },
                    { type: 'image', src: 'images/fll/FLL-T.jpg', description: 'AquaHunter å®Œæ•´è‡ªä¸»ä»»åŠ¡è§†é¢‘å±•ç¤ºï¼Œä½œä¸ºåˆ›æ–°ç ”ç©¶å…¨åœºç¬¬ä¸€è¿›è¡Œä»‹ç»ã€‚' },
                    { type: 'image', src: 'images/fll/LIONFISHD.jpg', description: 'AquaHunter æ¨¡å‹æ¨ç†ç”»é¢' },
                    { type: 'video', youtubeId: 'qpJmq-FBLdI', description: 'AquaHunter æ¨¡å‹è§†é¢‘' },
                    { type: 'image', src: 'images/fll/FLL-S.jpg', description: 'FLL åˆ›æ–°ç ”ç©¶è´¡çŒ®å­¦ç”Ÿä¸è€å¸ˆåœ¨å‘å¸ƒä»ªå¼æ™šå®´ä¸­çš„åˆå½±ã€‚' }
                ],
                ftc27570: [
                    { type: 'video', youtubeId: '5zU5Di1xkyc', description: '27570 æœºå™¨äººæœ€ç»ˆç‰ˆæœ¬çš„è¶…é«˜ç²¾åº¦è§†è§‰ï¼Œç”šè‡³èƒ½è¯†åˆ«æ½œæ°´åŒºé“æ†ã€‚' },
                    { type: 'video', youtubeId: '2otmbbGTOR8', description: '27570 æœºå™¨äººåœ¨ä¸Šæµ·ä¸‰å¼€å‘çš„è‡ªåŠ¨é©¾é©¶ï¼Œå‡­å€Ÿæ­¤ç¨‹åºå¤ºå¾—æ§åˆ¶å¥–æ™‹çº§å›½èµ›ã€‚' }
                ],
                ftcCommunity: [
                    { type: 'image', src: 'images/ftc/HOUSTONDEBUG.jpg', description: 'ä¸º FTC 19705 çº¢å¿ƒæœºå™¨äººå¼€å‘çš„ç«èµ›çº§è§†è§‰ç³»ç»Ÿï¼Œåœ¨ä¼‘æ–¯é¡¿ä¸–é”¦èµ›ç»ƒä¹ åœºåœ°ä¸Šè¿›è¡Œæµ‹è¯•ã€‚' },
                    { type: 'video', youtubeId: '3emosyJK48Q', description: '19705 é˜Ÿåœ¨ä¼‘æ–¯é¡¿ä¸–é”¦èµ›ä¹‹å‰ï¼Œæµ‹è¯•çš„è¶…é«˜ç²¾åº¦è‡ªåŠ¨é˜¶æ®µæŒ‚æ†è§†è§‰ç¨‹åºã€‚' },
                    { type: 'video', youtubeId: 'Xr-lSPC3_i0', description: '19705 é˜Ÿåœ¨ä¼‘æ–¯é¡¿ä¸–é”¦èµ›ä¹‹å‰ï¼Œæµ‹è¯•çš„è¶…é«˜ç²¾åº¦è‡ªåŠ¨é˜¶æ®µæ”¾æ¡†è§†è§‰ç¨‹åºã€‚' },
                    { type: 'video', youtubeId: 'L76KmLFFQG4', description: '19705 é˜Ÿåœ¨ä¼‘æ–¯é¡¿ä¸–é”¦èµ›ä¹‹å‰ï¼Œæµ‹è¯•çš„è¶…é«˜ç²¾åº¦ä¸‰ç§è‰²å½©çš„è‡ªåŠ¨æŠ“å–ã€‚' },
                    { type: 'video', youtubeId: '2ydu9OxluLw', description: '19705 é˜Ÿåœ¨ä¼‘æ–¯é¡¿ä¸–é”¦èµ›ä½¿ç”¨æˆ‘ä»¬è§†è§‰ç³»ç»Ÿçš„å®æˆ˜å½•åƒï¼Œå±•ç¤ºäº†å…¶é«˜ç¨³å®šæ€§å’ŒæŠ“å–é€Ÿåº¦ã€‚' },
                    { type: 'image', src: 'images/ftc/HOUSTONT.jpg', description: 'FTC 19705 çº¢å¿ƒæœºå™¨äººåœ¨ä¼‘æ–¯é¡¿ä¸–é”¦èµ›PLAYOFFå–å¾—å¹³å±€ã€‚' },
                    { type: 'image', src: 'images/ftc/HOUSTONW.jpg', description: 'FTC 19705 çº¢å¿ƒæœºå™¨äººåœ¨ä¼‘æ–¯é¡¿ä¸–é”¦èµ›åœ¨PLAYOFFè·èƒœã€‚' },
                    { type: 'image', src: 'images/ftc/119C.jpg', description: 'ä¸º FTC æ–°é˜Ÿä¼ 28119 è¿›è¡ŒæŠ€æœ¯è®²è§£ï¼Œåˆ†äº«è§†è§‰ç³»ç»Ÿå¼€å‘å’Œæœºå™¨äººç¼–ç¨‹ç»éªŒã€‚' },
                    { type: 'image', src: 'images/ftc/119T.jpg', description: 'ä¸º FTC æ–°é˜Ÿä¼ 28119 è¿›è¡ŒæŠ€æœ¯è®²è§£ï¼Œåˆ†äº«è§†è§‰ç³»ç»Ÿå¼€å‘å’Œæœºå™¨äººç¼–ç¨‹ç»éªŒã€‚' },
                    { type: 'image', src: 'images/ftc/119T2.jpg', description: 'ä¸º FTC æ–°é˜Ÿä¼ 28119 è¿›è¡ŒæŠ€æœ¯è®²è§£ï¼Œåˆ†äº«è§†è§‰ç³»ç»Ÿå¼€å‘å’Œæœºå™¨äººç¼–ç¨‹ç»éªŒã€‚' }
                ],
                robomaster: [
                    { type: 'video', youtubeId: 'Ogi15fAEs1s', description: 'RoboMaster RMYCæ­¥å…µæœºå™¨äººçš„è‡ªåŠ¨ç¨‹åºï¼Œåœ¨è‡ªåŠ¨ç»“æŸä¹‹åå¯¹æ–¹åŸºåœ°è¡€é‡å‡å°‘ä¸‰åˆ†ä¹‹ä¸€ã€‚' },
                    { type: 'video', youtubeId: 'p-A05wAB364', description: 'RoboMaster RMYCæ­¥å…µæœºå™¨äººåŸºäºè§†è§‰è¯†åˆ«çš„è£…ç”²æ¿è·Ÿè¸ª' },
                    { type: 'video', youtubeId: 'vaegsY6iSEk', description: 'RoboMaster RMYCæ­¥å…µæœºå™¨äººåŸºäºè§†è§‰è¯†åˆ«çš„è£…ç”²æ¿è‡ªç„å‡»æ‰“' },
                    { type: 'image', src: 'images/robomaster/RMSHOOT.jpg', description: 'RMæ— äººæœºçš„ä¹’ä¹“çƒå‘å°„å™¨' }
                ]
            };
            
            const categoryButtons = document.querySelectorAll('.category-btn');
            const ftcParentButton = document.querySelector('[data-category="ftc-parent"]');
            const ftcSubmenu = document.getElementById('ftc-submenu');
            const galleryContents = document.querySelectorAll('.gallery-content');
            
            const galleryTitleEl = document.getElementById('gallery-title');
            const gallerySubtitleEl = document.getElementById('gallery-subtitle');
            const slideDescriptionEl = document.getElementById('slide-description');
            const slideProgressEl = document.getElementById('slide-progress');

            let currentGalleryState = {};
            let activeCategoryId = '';

            function stopAllVideos() {
                document.querySelectorAll('.gallery-slide iframe').forEach(iframe => {
                    if (iframe.contentWindow && typeof iframe.contentWindow.postMessage === 'function') {
                        iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                    }
                });
            }

            function updateInfoPanel(categoryId) {
                const info = galleryInfoData[categoryId];
                if (!info) return;

                galleryTitleEl.classList.add('fading-out');
                gallerySubtitleEl.classList.add('fading-out');

                setTimeout(() => {
                    galleryTitleEl.textContent = info.title;
                    gallerySubtitleEl.textContent = info.subtitle;
                    galleryTitleEl.classList.remove('fading-out');
                    gallerySubtitleEl.classList.remove('fading-out');
                }, 300);
            }

            function renderGallery(categoryId) {
                const data = galleryData[categoryId];
                const galleryWrapper = document.querySelector(`#${categoryId}-gallery .gallery-slider-wrapper`);
                galleryWrapper.innerHTML = ''; 

                if (!data || data.length === 0) {
                    galleryWrapper.innerHTML = `<p style="color:var(--text-color-dark);">æš‚æ— å†…å®¹ã€‚</p>`;
                    slideDescriptionEl.textContent = '';
                    slideProgressEl.textContent = '';
                    return;
                }

                data.forEach((item, index) => { // Add index here
                    const slide = document.createElement('div');
                    slide.className = 'gallery-slide';
                    if (item.type === 'image') {
                        slide.innerHTML = `<img src="${item.src}" alt="${item.description}">`;
                    } else if (item.type === 'video') {
                        slide.innerHTML = `<div class="video-embed"><iframe src="https://www.youtube.com/embed/${item.youtubeId}?enablejsapi=1&rel=0" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>`;
                    }
                    galleryWrapper.appendChild(slide);
                });

                if (currentGalleryState[categoryId] === undefined || currentGalleryState[categoryId].slides?.length !== data.length) {
                     currentGalleryState[categoryId] = { index: 0 };
                }
                currentGalleryState[categoryId].slides = galleryWrapper.querySelectorAll('.gallery-slide');
                updateGalleryDisplay(categoryId, true);
            }

            // MODIFIED: Logic for 2D scrolling effect
            function updateGalleryDisplay(categoryId, isInitial = false) {
                const state = currentGalleryState[categoryId];
                if (!state || !state.slides || state.slides.length === 0) return;
            
                if (!isInitial) stopAllVideos();
            
                const slides = state.slides;
                const currentIndex = state.index;
            
                // Loop through all slides and set their position based on the current index
                slides.forEach((slide, i) => {
                    const offset = i - currentIndex;
                    slide.style.transform = `translateX(${offset * 100}%)`;
                });
            
                slideDescriptionEl.textContent = galleryData[categoryId][currentIndex].description;
                slideProgressEl.textContent = `(${currentIndex + 1} / ${slides.length})`;
            }


            function navigateGallery(categoryId, direction) {
                const state = currentGalleryState[categoryId];
                if (!state || state.slides.length <= 1) return;
                state.index = (state.index + direction + state.slides.length) % state.slides.length;
                updateGalleryDisplay(categoryId);
            }

            function showGallery(categoryId) {
                if (activeCategoryId === categoryId) return;
                activeCategoryId = categoryId;
                
                stopAllVideos();
                updateInfoPanel(categoryId);
                
                galleryContents.forEach(content => {
                    content.classList.toggle('active', content.id === `${categoryId}-gallery`);
                });
                renderGallery(categoryId);
            }

            categoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const category = this.dataset.category;

                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');

                    if (category === 'ftc-parent') {
                        ftcSubmenu.classList.toggle('show');
                        if (ftcSubmenu.classList.contains('show')) {
                            const firstSubItem = ftcSubmenu.querySelector('.category-btn');
                            firstSubItem.classList.add('active');
                            showGallery(firstSubItem.dataset.category);
                        }
                    } else {
                        ftcSubmenu.classList.remove('show');
                        if (['ftc27570', 'ftcCommunity'].includes(category)) {
                             ftcParentButton.classList.add('active');
                        }
                        showGallery(category);
                    }
                });
            });

            document.querySelectorAll('.control-button').forEach(button => {
                button.addEventListener('click', function() {
                    const targetCategory = this.dataset.target;
                    const direction = this.classList.contains('next-slide') ? 1 : -1;
                    navigateGallery(targetCategory, direction);
                });
            });

            document.addEventListener('keydown', function(e) {
                if (activeCategoryId && galleryData[activeCategoryId] && galleryData[activeCategoryId].length > 1) {
                    if (e.key === 'ArrowLeft') {
                        navigateGallery(activeCategoryId, -1);
                    } else if (e.key === 'ArrowRight') {
                        navigateGallery(activeCategoryId, 1);
                    }
                }
            });

            document.querySelector('.category-btn[data-category="fll"]').click();
            document.getElementById('main-robotics-gallery-section').classList.add('is-visible');

            window.addEventListener('load', () => {
                setTimeout(() => document.getElementById('preloader')?.classList.add('loaded'), 500);
            });
        });
    </script>
</body>
</html>
